<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Format phenotypic data from GrainGenes (Excel table) — format_phenot • HRSWGS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Format phenotypic data from GrainGenes (Excel table) — format_phenot"><meta name="description" content="Format phenotypic data from GrainGenes (Excel table)"><meta property="og:description" content="Format phenotypic data from GrainGenes (Excel table)"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">HRSWGS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Format phenotypic data from GrainGenes (Excel table)</h1>

      <div class="d-none name"><code>format_phenot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Format phenotypic data from GrainGenes (Excel table)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">format_phenot</span><span class="op">(</span><span class="va">p2d</span>, <span class="va">years</span>, <span class="va">locs</span>, <span class="va">traits</span>, cols2rem <span class="op">=</span> <span class="cn">NULL</span>, distMatchTrait <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-p-d">p2d<a class="anchor" aria-label="anchor" href="#arg-p-d"></a></dt>
<dd><p>path to directory where tables are saved</p></dd>


<dt id="arg-years">years<a class="anchor" aria-label="anchor" href="#arg-years"></a></dt>
<dd><p>numeric vector of years to look for</p></dd>


<dt id="arg-locs">locs<a class="anchor" aria-label="anchor" href="#arg-locs"></a></dt>
<dd><p>character vector of tab names to look for (including Entry) or to location names to identify the trial.
If several names are corresponding to one trial, repeat the different versions in the vector and add the final name as vector name.</p></dd>


<dt id="arg-traits">traits<a class="anchor" aria-label="anchor" href="#arg-traits"></a></dt>
<dd><p>character vector of trait names to look for.
If several names are corresponding to one trait, name the different versions and use as vector name the sought version.
for example: traits=c("VSK","Heading","FDK"); names(traits)=c("VSK","HD","VSK")</p></dd>


<dt id="arg-cols-rem">cols2rem<a class="anchor" aria-label="anchor" href="#arg-cols-rem"></a></dt>
<dd><p>character vector of column names to remove, to avoid bad matching</p></dd>


<dt id="arg-distmatchtrait">distMatchTrait<a class="anchor" aria-label="anchor" href="#arg-distmatchtrait"></a></dt>
<dd><p>numeric value, distance for string matching. Default is 8.
Increased distance would lead to more matching and is more prone to errors.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>list of 4 components:
- var.match.info: data frame of variable matching
- sheet.match.info: data frame of sheet matching (finding the relevant tabs)
- phenot: data frame of combined phenotypic data for all years and locations
- entry.info: data frame of combined genotype information</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># p2d &lt;- here("data","URSN_tables")</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">format_phenot</span><span class="op">(</span>p2d<span class="op">=</span><span class="va">p2d</span>, years<span class="op">=</span><span class="va">year_ranges</span>, locs<span class="op">=</span><span class="va">locs2check</span>,</span></span>
<span class="r-in"><span>                     traits<span class="op">=</span><span class="va">traits2check</span>,</span></span>
<span class="r-in"><span>                      cols2rem<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'DISK'</span>,<span class="st">"VRI"</span>,</span></span>
<span class="r-in"><span>                                 <span class="st">"VIBE FDK *"</span>,<span class="st">"VIBE_FDK"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: stringr</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>there is no package called ‘stringr’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: janitor</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>there is no package called ‘janitor’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: readxl</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>there is no package called ‘readxl’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: stringdist</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>there is no package called ‘stringdist’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: dplyr</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>there is no package called ‘dplyr’</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'traits2check' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Charlotte Brault.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

